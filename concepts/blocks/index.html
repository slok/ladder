<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Blocks - Ladder docs</title>
    <meta name="generator" content="Hugo 0.17" />

    
    <meta name="description" content="A flexible and reliable autoscaler">
    
    <link rel="canonical" href="https://themotion.github.io/ladder/concepts/blocks/">
    
    <meta name="author" content="TheMotion">
    

    <meta property="og:url" content="https://themotion.github.io/ladder/concepts/blocks/">
    <meta property="og:title" content="Ladder docs">
    <meta property="og:image" content="https://themotion.github.io/ladder/img/logo.png">
    <meta name="apple-mobile-web-app-title" content="Ladder docs">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://themotion.github.io/ladder/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://themotion.github.io/ladder/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://themotion.github.io/ladder/fonts/icon.eot?52m981');
        src: url('https://themotion.github.io/ladder/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
             url('https://themotion.github.io/ladder/fonts/icon.woff?52m981')
               format('woff'),
             url('https://themotion.github.io/ladder/fonts/icon.ttf?52m981')
               format('truetype'),
             url('https://themotion.github.io/ladder/fonts/icon.svg?52m981#icon')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://themotion.github.io/ladder/stylesheets/application.css">
    <link rel="stylesheet" href="https://themotion.github.io/ladder/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://themotion.github.io/ladder/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://themotion.github.io/ladder/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,700|Roboto&#43;Mono">
    <style>
      body, input {
        font-family: 'Roboto', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Roboto Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="https://themotion.github.io/ladder/javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-deep-purple palette-accent-light-blue">



	
	


<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Blocks
      </div>
    </div>

    
    <div class="button button-twitter" role="button" aria-label="Twitter">
       <a href="https://twitter.com/themotionvideo" title="@themotionvideo on Twitter" target="_blank" class="toggle-button icon icon-twitter"></a>
    </div>
    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/themotion" title="@themotion on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://github.com/themotion/ladder" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="https://themotion.github.io/ladder/img/logo.png">
        </div>
      
      <div class="name">
        <strong>Ladder docs <span class="version">0.1.0</span></strong>
        
          <br>
          themotion/ladder
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            <a href="https://github.com/themotion/ladder/archive/master.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/themotion/ladder/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      

      <div class="toc">
        
        <ul>
          




<li>
  
    <span class="section">Introduction</span>
    <ul>
      
        
        



<a  title="Overview" href="https://themotion.github.io/ladder/introduction/overview/">
	
	Overview
</a>



      
        
        



<a  title="Installing" href="https://themotion.github.io/ladder/introduction/installing/">
	
	Installing
</a>



      
        
        



<a  title="Quickstart" href="https://themotion.github.io/ladder/introduction/quickstart/">
	
	Quickstart
</a>



      
    </ul>
  
</li>



<li>
  
    <span class="section">Concepts</span>
    <ul>
      
        
        



<a  title="Autoscaler" href="https://themotion.github.io/ladder/concepts/autoscaler/">
	
	Autoscaler
</a>



      
        
        



<a  title="Blocks" href="https://themotion.github.io/ladder/concepts/blocks/">
	
	Blocks
</a>



      
    </ul>
  
</li>



<li>
  
    <span class="section">Available Blocks</span>
    <ul>
      
        
        



<a  title="Gatherers" href="https://themotion.github.io/ladder/blocks/gatherers/">
	
	Gatherers
</a>



      
        
        



<a  title="Arrangers" href="https://themotion.github.io/ladder/blocks/arrangers/">
	
	Arrangers
</a>



      
        
        



<a  title="Solvers" href="https://themotion.github.io/ladder/blocks/solvers/">
	
	Solvers
</a>



      
        
        



<a  title="Filters" href="https://themotion.github.io/ladder/blocks/filters/">
	
	Filters
</a>



      
        
        



<a  title="Scalers" href="https://themotion.github.io/ladder/blocks/scalers/">
	
	Scalers
</a>



      
    </ul>
  
</li>



<li>
  
    <span class="section">Operating</span>
    <ul>
      
        
        



<a  title="Running" href="https://themotion.github.io/ladder/operating/running/">
	
	Running
</a>



      
        
        



<a  title="Configuration" href="https://themotion.github.io/ladder/operating/configuration/">
	
	Configuration
</a>



      
        
        



<a  title="Metrics" href="https://themotion.github.io/ladder/operating/metrics/">
	
	Metrics
</a>



      
        
        



<a  title="API" href="https://themotion.github.io/ladder/operating/api/">
	
	API
</a>



      
        
        



<a  title="Using as a framework" href="https://themotion.github.io/ladder/operating/framework/">
	
	Using as a framework
</a>



      
    </ul>
  
</li>



<li>
  
    



<a  title="License" href="https://github.com/themotion/ladder/blob/master/LICENSE">
	
	License
</a>



  
</li>


        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          
          <li>
            <a href="https://twitter.com/themotionvideo" target="_blank" title="@themotionvideo on Twitter">
              @themotionvideo on Twitter
            </a>
          </li>
          

          
          <li>
            <a href="https://github.com/themotion" target="_blank" title="@themotion on GitHub">
              @themotion on GitHub
            </a>
          </li>
          

          
          <li>
            <a href="mailto:tech-honey-badger@themotion.com" title="Email of tech-honey-badger@themotion.com">
              Contact via email
            </a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Blocks </h1>

			

<p>As we said previously, Ladder can have multiple autoscalers, and each autoscaler is
made by differet kind of blocks, these blocks are:</p>

<ul>
<li><strong>Inputters</strong>: The ones that gather data and make a decision</li>
<li><strong>Solvers</strong>: The ones that take multiple inputters result and take one of them</li>
<li><strong>Filters</strong>: The ones that take the Solver result and apply some kind of logic based on the solver result</li>
<li><strong>Scalers</strong>: The ones that scale based on all the previous flow result</li>
</ul>

<p>Let take a look at Ladder&rsquo;s architecture first and then try to explain each of the parts</p>

<p><img src="https://themotion.github.io/ladder/img/architecture.png" alt="Ladder architecture" /></p>

<h2 id="inputter">Inputter</h2>

<p>An inputter is a a composite block, is made of a gatherer and an arranger.</p>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>An autoscaler can have multiple inputters.</p>
</div>

<h2 id="gatherer">Gatherer</h2>

<p>This kind of block is the one that will grab the values form external sources, is the
start of the autoscaler cycle.</p>

<p>Some kind of gatherers could be:</p>

<ul>
<li>The number of messages in a queue</li>
<li>The CPU % used</li>
<li>The mean request latency</li>
<li>The remaining free size of a disk</li>
<li>The temperature of a room</li>
</ul>

<h2 id="arranger">Arranger</h2>

<p>The arranger block is the one that makes the decisions based on the gatherer data. In order
to make a decision and return a valid quantity for the scaler block, the arranger has the gatherer data
and the current quantity of the scaler (or scaler target).</p>

<p>In other words, will take the gatherer data, the current scaler target data, apply some logic and return a result
that can be used by the scaler to set the arranged value on the scaler target.</p>

<p>Some kind of arrangers could be:</p>

<ul>
<li>If the current input is greater that a quantity during X minutes then increment by 10% the current scaler target quantity</li>
<li>If the input is equal to a quantity then set the quantity to 0</li>
<li>Take the current input data and add 5</li>
<li>Take the current input data and divide by a constant value.</li>
</ul>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The arranger of an inputter can be empty (this means that the gathered value will be passed transparently to the solver)</p>
</div>

<h2 id="solver">Solver</h2>

<p>As we said above, we can have multiple inputters, but at the end the autoscaler only can set one correct value on the
scaling target, the solver is the one that takes all this inputters result and apply some logic so it finally returns
one single quantity result.</p>

<p>Some kind of solvers could be:</p>

<ul>
<li>The summatory of all inputters</li>
<li>The max or min of all inputters</li>
<li>The first of all the inputters</li>
<li>A random of all the inputters</li>
</ul>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If only one inputter is configured, the solver will be ignored</p>
</div>

<h2 id="filterer-filter">Filterer (filter)</h2>

<p>Filterers or filters is a kind of block that is configured as an ordered list or chain.
Each filter will be applied in order and can change the input of the next filter to apply,
When executing a filter it will receive the arranged value by the solver and the current value of
the scaling target, after aplyign the filter logic, this will return a result, and a flag
specifying if the filter breaks the whole filter chain or not.</p>

<p>With this process we can validate, change or error multiple times the received value, before
the scaler scales the target</p>

<p>Some kind of filters could be:</p>

<ul>
<li>A limiting filterer that doesn&rsquo;t allow values more or lesser than the defined values</li>
<li>A filter that breaks the chain without altering the current value if a check with a 3rd party service doesn&rsquo;t return correctly</li>
<li>A interval filterer that allows scaling if the autoscaler has been in scaleup mode after 1 minute and allow downscale if the mode has been in downscale mode for 5 minutes</li>
</ul>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of the filterers chain is very important</p>
</div>

<h2 id="scaler">Scaler</h2>

<p>An scaler is the final part of an autoscaler, this kind of blokc is the one that will trigger the scaling on the
scaling target with the received quantity (or if it didn&rsquo;t change then don&rsquo;t scale).</p>

<p>Some kind of scaler could be:</p>

<ul>
<li>The desired number of instances in an AWS auto scaling group</li>
<li>The number of GBs asigned to an instance</li>
<li>The asigned Memory to a docker container</li>
<li>The number of replicas of a Kubernetes pod</li>
</ul>


			<aside class="copyright" role="note">
				
				&copy; 2017 Released under the BSD 3-clause &#39;New&#39; or &#39;Revised&#39; license &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="https://themotion.github.io/ladder/blocks/gatherers/" title="Gatherers">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              Gatherers
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="https://themotion.github.io/ladder/concepts/autoscaler/" title="Autoscaler">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Autoscaler
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = 'https:\/\/themotion.github.io\/ladder\/';
      var repo_id  = 'themotion\/ladder';
    
    </script>

    <script src="https://themotion.github.io/ladder/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;
            
            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }
        

        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//gohugo.io/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
